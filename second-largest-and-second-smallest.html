<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Second Largest And Second Smallest</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./style.css">
</head>

<body>

    <div class="container">

        <h2 class="title">Second Largest And Second Smallest</h2>

        <div class="wrapper">

            <div class="" id="inp"></div>

            <div class="text-center">
                <h4 id="ans1"></h4>
                <h4 id="ans2"></h4>
            </div>

            <div class="text-center">
                <button class="Back" id="random">Random</button>
                <button class="Back" id="submit">Submit</button><br>
                <button id="reset" class="Back">Reset</button>
                <a href="./index.html">
                    <button class="Back">Back</button>
                </a>
            </div>

        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script>
        $(document).ready(function () {
            function createInputs() {

                let number = prompt("Enter how many input you want");
                let num = parseInt(number);

                if (num <= 0 || isNaN(num)) {
                    alert("Invalid Input Creating default 5 boxes");
                    num = 5;
                }

                $("#inp").html("");


                for (let i = 0; i < num; i++) {
                    $("#inp").append(`<input type="text" id="num${i}" class="input form-control mb-2" placeholder="Enter a number">`);
                }


                $("#submit").off("click").on("click", function () {
                    let arr = [];
                    for (let i = 0; i < num; i++) {
                        let val = parseInt($(`#num${i}`).val());
                        if (!isNaN(val)) {
                            arr.push(val);
                        }
                    }

                    arr.sort((a, b) => a - b);

                    if (arr.length < 2) {
                        $("#ans1").html("Not enough valid inputs");
                        $("#ans2").html("");
                    } else {
                        $("#ans1").html(`Second Smallest: ${arr[1]}`);
                        $("#ans2").html(`Second Largest: ${arr[arr.length - 2]}`);
                    }
                });

                $("#random").off("click").on("click", function () {
                    for (let i = 0; i < num; i++) {
                        $(`#num${i}`).val(Math.floor(Math.random() * 100));
                    }
                    $("#ans1").html("");
                    $("#ans2").html("");
                });


                $("#reset").off("click").on("click", function () {
                    $("#inp").html("");
                    $("#ans1").html("");
                    $("#ans2").html("");
                    createInputs();
                });
            }

            createInputs();
        });
    </script>


</body>

</html>